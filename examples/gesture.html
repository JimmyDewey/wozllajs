<!DOCTYPE html>
<html>
<head>
    <title>test hit | wozllajs</title>
    <script src="../libs/easeljs-0.6.1.min.js"></script>
    <script src="../libs/preloadjs-0.3.1.min.js"></script>
    <script src="../src/wozllajs/wozllajs.js"></script>
    <script src="../src/wozllajs/core/Array2D.js"></script>
    <script src="../src/wozllajs/core/EventDispatcher.js"></script>
    <script src="../src/wozllajs/core/EventAdmin.js"></script>
    <script src="../src/wozllajs/core/Time.js"></script>
    <script src="../src/wozllajs/core/Touch.js"></script>
    <script src="../src/wozllajs/core/TouchEvent.js"></script>
    <script src="../src/wozllajs/core/Engine.js"></script>
    <script src="../src/wozllajs/core/ResourceManager.js"></script>
    <script src="../src/wozllajs/core/LayerManager.js"></script>
    <script src="../src/wozllajs/core/GameObject.js"></script>
    <script src="../src/wozllajs/core/Stage.js"></script>
    <script src="../src/wozllajs/core/Transform.js"></script>
    <script src="../src/wozllajs/core/Component.js"></script>
    <script src="../src/wozllajs/core/Renderer.js"></script>
    <script src="../src/wozllajs/core/Collider.js"></script>
    <script src="../src/wozllajs/core/Behaviour.js"></script>
    <script src="../src/wozllajs/renderer/ImageRenderer.js"></script>
    <script src="../src/wozllajs/util/SizeParser.js"></script>
</head>
<body>
<div id="root" style="width: 960px; margin: 0 auto; border: 1px solid #555; height: 640px;">
    <canvas id="main"></canvas>
</div>
<script>
    var canvas, stage, gameObject;
    canvas = document.getElementById('main');
    wozllajs.Touch.init(canvas);
    wozllajs.LayerManager.init({
        'layer1' : 0
    });
    stage = new wozllajs.Stage('sampleStageId', canvas, 960, 640);
    gameObject = new wozllajs.GameObject('test');
    gameObject.setLayer('layer1');
    gameObject.transform.x = 150;
    gameObject.transform.y = 150;
    gameObject.setRenderer(wozllajs.createComponent('renderer.image', {
        src : 'images/logo.png'
    }));
    stage.addObject(gameObject);

    stage.loadResources({
        onComplete : function() {
            stage.init();
        }
    });

    wozllajs.Engine.addListener(stage);
    wozllajs.Engine.start();

    function onClick(e) {
        console.log('click once');
        gameObject.off('click', onClick);
    }

    gameObject.on('click', onClick);

</script>
</body>
</html>